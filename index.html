<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Babesugab Robot Maze</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Blockly + Interpreter -->
  <script src="https://unpkg.com/blockly/blockly.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/acorn@8/dist/acorn.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/NeilFraser/JS-Interpreter@master/interpreter.js"></script>

  <link rel="stylesheet" href="style.css">

  <link rel="manifest" href="manifest.json">

</head>

<body class="bg-gradient-to-br from-blue-100 to-purple-100 h-screen">

<div class="flex h-full">

  <!-- LEFT / GAME -->
  <div class="w-1/2 flex flex-col items-center justify-center gap-3">
    <h1 class="text-2xl font-bold text-purple-700">
      ğŸ¤– Robot Maze Game
    </h1>

    <div class="relative bg-white p-3 rounded-xl shadow-lg">
      <canvas id="canvas" width="400" height="400"></canvas>
        <!-- GAME POPUP -->
        <div id="modal"
          class="hidden absolute top-4 left-4 z-50 max-w-xs">
        
          <div class="bg-white border-l-4 border-blue-500
                      rounded-lg shadow-lg p-4 animate-slide">
            <h2 id="modalTitle" class="font-bold text-sm"></h2>
            <p id="modalBody" class="text-xs text-gray-600 mt-1"></p>
          </div>
        
        </div>
    </div>

    <div class="text-lg font-semibold">
      â­ Score: <span id="score">0</span> | ğŸ Level: <span id="level">1</span>
    </div>

    <div class="flex items-center gap-2 bg-white p-3 rounded-xl shadow">
      <button class="btn-primary" onclick="run()">â–¶ Run</button>
      <button class="btn-secondary" onclick="pause()">â¸ Pause</button>
      <button class="btn-secondary" onclick="stepOnce()">â­ Step</button>
      <div class="flex items-center gap-1">
        ğŸ¢
        <input id="speed" type="range" min="1" max="20" value="5">
        ğŸ‡
      </div>
    </div>
  </div>

  <!-- RIGHT / BLOCKLY -->
  <div class="w-1/2 bg-white rounded-l-3xl shadow-inner">
    <div id="blocklyDiv" class="h-full"></div>
  </div>

</div>

<!-- TOOLBOX -->
<xml id="toolbox" style="display:none">
  <block type="start"></block>
  <block type="move_forward"></block>
  <block type="turn_left"></block>
  <block type="turn_right"></block>
  <block type="controls_repeat_ext">
    <value name="TIMES">
      <shadow type="math_number">
        <field name="NUM">4</field>
      </shadow>
    </value>
  </block>
</xml>

<div class="p-4 bg-white rounded-xl shadow-md mb-4">
  <div class="flex items-center gap-3">
    <img id="avatarPreview"
         class="w-16 h-16 rounded-full border-4 border-yellow-400 object-cover"
         src="avatar.png" />

    <div>
      <input id="playerName"
             placeholder="Nama pemain"
             class="border rounded px-2 py-1 w-full text-sm" />
      <input type="file" id="avatarUpload"
             class="text-xs mt-1" accept="image/*">
    </div>
  </div>
</div>

<div class="bg-white rounded-xl shadow-md p-4">
  <h2 class="font-bold text-lg mb-2">ğŸ† Leaderboard</h2>
  <ul id="leaderboard"
      class="space-y-2 text-sm">
  </ul>
</div>

<script src="script.js"></script>
<script>
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js");
}
</script>
</body>

</html>



